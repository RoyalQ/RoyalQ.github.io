<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="学习之路">
  <meta name="author" content="QXQ">
  <!-- Open Graph Data -->
  <meta property="og:title" content="getJSON中的问题的解答，与自己的思考"/>
  <meta property="og:description" content="学习之路" />
  <meta property="og:site_name" content="Rookie&#39;s think"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://yoursite.comundefined"/>
  
    <link rel="alternate" href="/atom.xml" title="Rookie&#39;s think" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>Rookie's think</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">getJSON中的问题的解答，与自己的思考</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/RoyalQ">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="/792449184@qq.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By QXQ</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2017-05-11</span>
            <span class="time">21:45:29</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/ios学习/">ios学习</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/666/">#666</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <h1 id="getJSON中的问题的解答，与自己的思考"><a href="#getJSON中的问题的解答，与自己的思考" class="headerlink" title="getJSON中的问题的解答，与自己的思考"></a>getJSON中的问题的解答，与自己的思考</h1><h1 id="1"><a href="#1" class="headerlink" title="1."></a>1.<img src="/img/屏幕快照 2017-05-11 下午8.03.27.png" alt=""><a id="more"></a></h1><h4 id="在使用AFnetworking这个库做网络请求的条件下，在服务器返回json数据时，有时会出现“somevalue”-null-解析后变成somevalue-”-lt-null-gt-”-为NSNull的对象，如果直接向这个对象发消息会直接崩溃，因此可以用以上的代码去掉这个讨厌的空值，将所有NSNull的值变成nil，这样就可以安心往下走了哈哈。"><a href="#在使用AFnetworking这个库做网络请求的条件下，在服务器返回json数据时，有时会出现“somevalue”-null-解析后变成somevalue-”-lt-null-gt-”-为NSNull的对象，如果直接向这个对象发消息会直接崩溃，因此可以用以上的代码去掉这个讨厌的空值，将所有NSNull的值变成nil，这样就可以安心往下走了哈哈。" class="headerlink" title="在使用AFnetworking这个库做网络请求的条件下，在服务器返回json数据时，有时会出现“somevalue”:null,解析后变成somevalue=”&lt;null&gt;”,为NSNull的对象，如果直接向这个对象发消息会直接崩溃，因此可以用以上的代码去掉这个讨厌的空值，将所有NSNull的值变成nil，这样就可以安心往下走了哈哈。"></a>在使用AFnetworking这个库做网络请求的条件下，在服务器返回json数据时，有时会出现“somevalue”:null,解析后变成somevalue=”&lt;null&gt;”,为NSNull的对象，如果直接向这个对象发消息会直接崩溃，因此可以用以上的代码去掉这个讨厌的空值，将所有NSNull的值变成nil，这样就可以安心往下走了哈哈。</h4><h1 id="2"><a href="#2" class="headerlink" title="2."></a>2.<img src="/img/屏幕快照 2017-05-11 下午8.05.11.png" alt=""></h1><h4 id="AFnetworking的默认请求时间好像是30s还是60s-太长了，而且好像也不太管用，对于这个getjson，不管30秒还是60都太长不需要这么久，我反正受不了，要等太久。当服务器故障，或者瞬间网络问题导致api访问有问题等等，APP会出现一直在长时间loading的情况，这个时候就需要我们来改一改了，通过以上代码设置超时，请求超时时间为5s，可以有效的返回情况，进行解决或再次访问。"><a href="#AFnetworking的默认请求时间好像是30s还是60s-太长了，而且好像也不太管用，对于这个getjson，不管30秒还是60都太长不需要这么久，我反正受不了，要等太久。当服务器故障，或者瞬间网络问题导致api访问有问题等等，APP会出现一直在长时间loading的情况，这个时候就需要我们来改一改了，通过以上代码设置超时，请求超时时间为5s，可以有效的返回情况，进行解决或再次访问。" class="headerlink" title="AFnetworking的默认请求时间好像是30s还是60s,太长了，而且好像也不太管用，对于这个getjson，不管30秒还是60都太长不需要这么久，我反正受不了，要等太久。当服务器故障，或者瞬间网络问题导致api访问有问题等等，APP会出现一直在长时间loading的情况，这个时候就需要我们来改一改了，通过以上代码设置超时，请求超时时间为5s，可以有效的返回情况，进行解决或再次访问。"></a>AFnetworking的默认请求时间好像是30s还是60s,太长了，而且好像也不太管用，对于这个getjson，不管30秒还是60都太长不需要这么久，我反正受不了，要等太久。当服务器故障，或者瞬间网络问题导致api访问有问题等等，APP会出现一直在长时间loading的情况，这个时候就需要我们来改一改了，通过以上代码设置超时，请求超时时间为5s，可以有效的返回情况，进行解决或再次访问。</h4><h1 id="3"><a href="#3" class="headerlink" title="3."></a>3.<img src="/img/屏幕快照 2017-05-11 下午8.05.47.png" alt=""></h1><h4 id="所谓的懒加载可以定义为：延时加载，即当对象需要用到的时候再去加载。"><a href="#所谓的懒加载可以定义为：延时加载，即当对象需要用到的时候再去加载。" class="headerlink" title="所谓的懒加载可以定义为：延时加载，即当对象需要用到的时候再去加载。"></a>所谓的懒加载可以定义为：延时加载，即当对象需要用到的时候再去加载。</h4><h4 id="优点就是可以简化代码，不必将创建对象的代码全部写在viewdidload上，增强代码可读性，对系统的内存占用率会减小，而且对象的实例化在getter方法中，各司其职，降低耦合性。"><a href="#优点就是可以简化代码，不必将创建对象的代码全部写在viewdidload上，增强代码可读性，对系统的内存占用率会减小，而且对象的实例化在getter方法中，各司其职，降低耦合性。" class="headerlink" title="优点就是可以简化代码，不必将创建对象的代码全部写在viewdidload上，增强代码可读性，对系统的内存占用率会减小，而且对象的实例化在getter方法中，各司其职，降低耦合性。"></a>优点就是可以简化代码，不必将创建对象的代码全部写在viewdidload上，增强代码可读性，对系统的内存占用率会减小，而且对象的实例化在getter方法中，各司其职，降低耦合性。</h4><h4 id="没用懒加载时，需要写在viewDidLoad方法中获取，如下图所示，显而易见，当返回的msg-ok时，就直接加载当前的-datas，采用上述方法后，只会在用到时才会去加载对象，大大减小内存占用，反正就是很好就是了，实在是编不下去了。"><a href="#没用懒加载时，需要写在viewDidLoad方法中获取，如下图所示，显而易见，当返回的msg-ok时，就直接加载当前的-datas，采用上述方法后，只会在用到时才会去加载对象，大大减小内存占用，反正就是很好就是了，实在是编不下去了。" class="headerlink" title="没用懒加载时，需要写在viewDidLoad方法中获取，如下图所示，显而易见，当返回的msg=ok时，就直接加载当前的_datas，采用上述方法后，只会在用到时才会去加载对象，大大减小内存占用，反正就是很好就是了，实在是编不下去了。"></a>没用懒加载时，需要写在viewDidLoad方法中获取，如下图所示，显而易见，当返回的msg=ok时，就直接加载当前的_datas，采用上述方法后，只会在用到时才会去加载对象，大大减小内存占用，反正就是很好就是了，实在是编不下去了。</h4><h1 id="4"><a href="#4" class="headerlink" title="4."></a>4.<img src="/img/屏幕快照 2017-05-11 下午8.06.05.png" alt=""></h1><h4 id="用-datas的话不调用懒加载方法，会一直nil-对了有一点需要注意，这里用的是self-datas调用其get方法，在写懒加载时，不能用-datas判断是否为空，否则会陷入死循环。"><a href="#用-datas的话不调用懒加载方法，会一直nil-对了有一点需要注意，这里用的是self-datas调用其get方法，在写懒加载时，不能用-datas判断是否为空，否则会陷入死循环。" class="headerlink" title="用_datas的话不调用懒加载方法，会一直nil,对了有一点需要注意，这里用的是self.datas调用其get方法，在写懒加载时，不能用.datas判断是否为空，否则会陷入死循环。"></a>用_datas的话不调用懒加载方法，会一直nil,对了有一点需要注意，这里用的是self.datas调用其get方法，在写懒加载时，不能用.datas判断是否为空，否则会陷入死循环。</h4><h1 id="5-总结"><a href="#5-总结" class="headerlink" title="5.总结"></a>5.总结</h1><h4 id="以上就是关于对getjson的思考及解答，另外在这次学习中用到了afnetworking和mbprogresshud第三方库，（mbprogresshud就是转菊花进度条等等），而且又学会了用hexo和github搭建自己个人的博客，一路艰辛-鲜花掌声），慢慢的做好自己的事情，编不下去了就这样了。"><a href="#以上就是关于对getjson的思考及解答，另外在这次学习中用到了afnetworking和mbprogresshud第三方库，（mbprogresshud就是转菊花进度条等等），而且又学会了用hexo和github搭建自己个人的博客，一路艰辛-鲜花掌声），慢慢的做好自己的事情，编不下去了就这样了。" class="headerlink" title="以上就是关于对getjson的思考及解答，另外在这次学习中用到了afnetworking和mbprogresshud第三方库，（mbprogresshud就是转菊花进度条等等），而且又学会了用hexo和github搭建自己个人的博客，一路艰辛(鲜花掌声），慢慢的做好自己的事情，编不下去了就这样了。"></a>以上就是关于对getjson的思考及解答，另外在这次学习中用到了afnetworking和mbprogresshud第三方库，（mbprogresshud就是转菊花进度条等等），而且又学会了用hexo和github搭建自己个人的博客，一路艰辛(鲜花掌声），慢慢的做好自己的事情，编不下去了就这样了。</h4>
        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

